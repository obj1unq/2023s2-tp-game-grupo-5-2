import wollok.game.*
import personajes.*
import inicioDelJuego.*
import movimientos.*
import barraHP.*
import animacion.*
describe "Test Juego" {

  method initialize(){
    game.clear()
		const nivel1 = new Nivel1(sonido = game.sound("citySlumStage1.wav"))
		escenario.removerNivel()
		escenario.iniciarNivel(nivel1)
  }

    test "Bill pierde 1 vida cuando la barra de vida esta vacia"{

        assert.equals(3, barraDeHP.vidas())                            //Bill Inicia con 3 vidas


        bill.recibirDanio()                                            //Recibe 5 hits que le provoca que pierda una vida
        bill.recibirDanio()
        bill.recibirDanio()
        bill.recibirDanio()
           bill.recibirDanio()

        assert.equals(2,barraDeHP.vidas())                           //Bill ahora tiene 2 vidas.
  }


   test "Al recibir danio, Bill pierde 20 de vida" {

        assert.equals(100, barraDeHP.cantidadDeVida())    //La barra de vida inicia llena( el valor es 100).

        bill.recibirDanio()
        assert.equals(80, barraDeHP.cantidadDeVida())  //Bill recibe da√±o,pierde 20 de vida y la barra de vida se ve afectada.
    }



}